\section{System Architecture}
In this section the following main question is answered: 
\begin{quotation}
    \textit{''How would a system architecture look like to fulfill the described problem domain?''}
\end{quotation}
This includes the coverage of use cases, non-functional requirements, technologies used ...

\subsection{Use Cases}
A visual representation of the use cases with a use case diagram was deliberately omitted, because there is only one actor involved - the security advisor. The actor is not specifically mentioned in the use cases every time, because it is always the same.

\subsubsection{UC01 - Read Resultant Set of Policies}
\begin{tcolorbox}
    \paragraph{Description} \ \\
    The specified audit policies are read and saved in a temporary file.
    \ \\
    \paragraph{Precondition} \ \\
    The system is running and the tool must possess administrator permissions.
    \ \\
    \paragraph{Main Success Scenario} 
    \begin{enumerate}
        \item Read the specified audit policies from the system
        \item Save the needed information from the audit policies in a temporary file for analysis purposes.
    \end{enumerate}   
\end{tcolorbox}

\subsubsection{UC02 - Analyse Audit Policies}
\begin{tcolorbox}
    \paragraph{Description} \ \\
    The list which was created in UC01 is compared to a ''perfect settings''-list. Missing or wrong settings are going to be exported into a separate file.
    \ \\
    \paragraph{Precondition} \ \\
    UC01 is fulfilled: the temporary file is available.
    \ \\
    \paragraph{Main Success Scenario} 
    \begin{enumerate}
        \item The temporary files can be read
        \item Creates a list of incorrect settings
    \end{enumerate}   
\end{tcolorbox}
\subsubsection{UC03 - Find Event Logs}
\begin{tcolorbox}
    \paragraph{Description} \ \\
    Event logs are search by ID and marked in an external file as found or missing.
    \ \\
    \paragraph{Precondition} \ \\
    The system is running and must have valid event logs. The tool must possess administrator permissions.
    \ \\
    \paragraph{Main Success Scenario} 
    \begin{enumerate}
        \item Search for the specified event logs from the local system
        \item Save the result from the search in a temporary file for analysis purposes.
    \end{enumerate}
\end{tcolorbox}


\subsubsection{UC04 - Analyse Found Event Logs}
\begin{tcolorbox}
    \paragraph{Description} \ \\
    The implemented logic analyzes, by defined event ids, which events occurred or are missing and creates a list of events that did not occurred or are not logged yet.
    \ \\
    \paragraph{Precondition} \ \\
    UC03 is fulfilled: the temporary file is available.
    \ \\
    \paragraph{Main Success Scenario} 
    \begin{enumerate}
        \item The temporary file can be read
        \item The list with the defined event ids is available
        \item Create a list of events which occurred and which are missing
    \end{enumerate}   
\end{tcolorbox}

\subsubsection{UC05 - Display missing or wrong system configuration}
\begin{tcolorbox}
    \paragraph{Description} \ \\
    Based on the list created in UC02 and UC04 the user gets an overview of missing configurations (the result) which would improve the readiness of the system for a good attack detection.
    \ \\
    \paragraph{Precondition} \ \\
    The lists from UC02 and UC04 are available.
    \ \\
    \paragraph{Main Success Scenario} 
    \begin{enumerate}
        \item Displays a visual output of missing or wrong system configurations
    \end{enumerate}   
\end{tcolorbox}

\subsubsection{UC06 - Save Result to specific path}
\begin{tcolorbox}
    \paragraph{Description} \ \\
    The actor has the possibility to save the overview from UC05 to a file in a specific path defined by the actor himself. This file contains the result from UC05 in a descriptive way.
    \ \\
    \paragraph{Precondition} \ \\
    UC05 is fulfilled: the result, respectively the overview is available
    \ \\
    \paragraph{Main Success Scenario} 
    \begin{enumerate}
        \item A file is saved to a specific path with the result from UC05
        \item The path can be defined by the actor
    \end{enumerate}   
\end{tcolorbox}


\subsection{Non Functional Requirements}

\begin{table}[H]
    \centering
    \def\arraystretch{2}
    \begin{tabular}{| p{2.5cm} | p{13.5cm} |} \hline
        \textbf{NFR-No.} & \textbf{Description}  \\ \hline
        NRF01 & The Toolkit must remain the system in the status quo. More specific the system shall not deliberately alter any existing entry in the event logs and registry. However, the tool may will produce new event logs.\\ \hline
        NFR02 & The user shall not notice significant performance degradation from the system when using the Toolkit. \\ \hline
        NFR03 & The Toolkit must be portable with no installation procedure before use. \\ \hline
        NFR04 & The minimal target version of the system for the Toolkit to run must be Microsoft Windows 10 Professional or Microsoft Server 2016. \\ \hline
        NFR05 & The Toolkit runs in one go, but can also be executed in single steps with the possibility to skip single steps (pause/abort in case of performance problems) \\ \hline
    \end{tabular}
    \caption{Non Functional Requirements}
\end{table}

\clearpage

\subsection{Technologies}
\subsubsection{Choosen Technologies}
\paragraph{PowerShell \& Visual Studio Code} \ \\
The decision, which technology weill be used, was made in favour of PowerShell. The reason why PowerShell will be used was, that it is close to the Microsoft Operating System and that it has a large and detailed documentation at its disposal. \ \\
\ \\
The scripts are writen in Visual Studio Code with the extension packet 'PowerShell'. Visual Studio has proven to be a suitable tool for Latex

\paragraph{LaTeX \& Visual Studio Code}\ \\
The documentation is written with LaTeX in Visual Studio Code wit the LaTeX Workshop extension. The main reason for LaTex was that the developers are already familiar with it.

\paragraph{Azure Cloud}\ \\
The test environment is set up, like in '2.9 Test environment' described, in the azure cloud. One server and two clients form a virtual network, this brings the advantage that the developers can access it from anywhere to any given time. A disadvantage is the changing public IP-addresses to access the VMs. In the end, the advantages outweigh the disadvantages.

\paragraph{GitHub}\ \\
GitHub is used as a version control tool for source code and documentation. GitHub has been elected because of its good reputation and the experience the developers already gained with.

\subsubsection{Rejected Technologies}
\paragraph{Continuous Integration}\ \\
Continuous integration is not used in this project because it will be a simple toolkit that is not written object-oriented. On the other hand, 

\paragraph{Python}\ \\
The decision to use PowerShell and C\# instead of Python was made because the developers do not have much experience with Python. Also PowerShell is closer to the Microsoft-OS.





